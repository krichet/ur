<template>
    <div>
        <UserInfo />
        <div class="wrapper wrapper_long">
            <AsideLeft />
            <div class="main-cont">
                <div class="main-cont__white">
                    <div class="line-main-title">
                        <div class="line-main-title">
                            <h1 class="main-title text-center">It's really easy to earn more cash with your referrals!
                            </h1>
                        </div>
                    </div>
                    <ul class="list-action">
                        <li class="list-action__item">
                            <div class="list-action__icon"><span class="list-action__icon-td"><img
                                        src="img/icon_stock_1.png" alt=""></span></div><span
                                class="list-action__text">We pay $1 when your referral get any first reward</span>
                        </li>
                        <li class="list-action__item">
                            <div class="list-action__icon"><span class="list-action__icon-td"><img
                                        src="img/icon_stock_2.png" alt=""></span></div><span
                                class="list-action__text">We pay $5 when your referral earns $20</span>
                        </li>
                        <li class="list-action__item">
                            <div class="list-action__icon"><span class="list-action__icon-td"><img
                                        src="img/icon_stock_3.png" alt=""></span></div><span
                                class="list-action__text">We pay 10% of the <br>Qualified Earnings</span>
                        </li>
                    </ul>
                    <h2 class="sub-title sub-title_top2 text-center">Your referrals</h2>
                    <div class="table-history table-referals">
                        <div class="tr">
                            <div class="th col1">Name</div>
                            <div class="th col3">You earnd</div>
                            <div class="th col4">Message</div>
                        </div>
                        <div class="tr">
                            <div class="td">John Gilby</div>
                            <div class="td col3">
                                <p class="table-history__price">$0.10</p>
                            </div>
                            <div class="td col4"><a href="#" class="link-view">message</a></div>
                        </div>
                        <div class="tr">
                            <div class="td">John Gilby</div>
                            <div class="td col3">
                                <p class="table-history__price">$0.10</p>
                            </div>
                            <div class="td col4"><a href="#" class="link-view">message</a></div>
                        </div>
                        <div class="tr">
                            <div class="td">John Gilby</div>
                            <div class="td col3">
                                <p class="table-history__price">$0.10</p>
                            </div>
                            <div class="td col4"><a href="#" class="link-view">message</a></div>
                        </div>
                        <div class="tr">
                            <div class="td">John Gilby</div>
                            <div class="td col3">
                                <p class="table-history__price">$0.10</p>
                            </div>
                            <div class="td col4"><a href="#" class="link-view">message</a></div>
                        </div>
                        <div class="tr">
                            <div class="td">John Gilby</div>
                            <div class="td col3">
                                <p class="table-history__price">$0.10</p>
                            </div>
                            <div class="td col4"><a href="#" class="link-view">message</a></div>
                        </div>
                        <div class="tr">
                            <div class="td">John Gilby</div>
                            <div class="td col3">
                                <p class="table-history__price">$0.10</p>
                            </div>
                            <div class="td col4"><a href="#" class="link-view">message</a></div>
                        </div>
                        <div class="tr">
                            <div class="td">John Gilby</div>
                            <div class="td col3">
                                <p class="table-history__price">$0.10</p>
                            </div>
                            <div class="td col4"><a href="#" class="link-view">message</a></div>
                        </div>
                        <div class="tr">
                            <div class="td">John Gilby</div>
                            <div class="td col3">
                                <p class="table-history__price">$0.10</p>
                            </div>
                            <div class="td col4"><a href="#" class="link-view">message</a></div>
                        </div>
                        <div class="tr total">
                            <div class="td">Totally: 12</div>
                            <div class="td col3">
                                <p class="table-history__price">$Totally: $212</p>
                            </div>
                            <div class="td col4"></div>
                        </div>
                    </div>
                    <div class="text-center"><a href="#"
                            class="button button_large button_light button_size-text20">Help your referrals and you will
                            earn more!</a></div>
                    <div class="box-title-block">
                        <h2 class="text-center">The members have just earned on their referrals</h2>
                        <p class="box-title-block__text">Want to earn too? Just ask the users how they get their
                            referrals</p>
                    </div>
                    <div class="table-history table-referals style-2">
                        <div class="tr">
                            <div class="td col1">Name</div>
                            <div class="td col3">
                                <p class="table-history__price">$0.15</p>
                            </div>
                            <div class="td col4"><a href="#" class="link-view">Ask the user</a></div>
                        </div>
                        <div class="tr">
                            <div class="td col1">Name</div>
                            <div class="td col3">
                                <p class="table-history__price">$0.15</p>
                            </div>
                            <div class="td col4"><a href="#" class="link-view">Ask the user</a></div>
                        </div>
                        <div class="tr">
                            <div class="td col1">Name</div>
                            <div class="td col3">
                                <p class="table-history__price">$0.15</p>
                            </div>
                            <div class="td col4"><a href="#" class="link-view">Ask the user</a></div>
                        </div>
                        <div class="tr">
                            <div class="td col1">Name</div>
                            <div class="td col3">
                                <p class="table-history__price">$0.15</p>
                            </div>
                            <div class="td col4"><a href="#" class="link-view">Ask the user</a></div>
                        </div>
                        <div class="tr">
                            <div class="td col1">Name</div>
                            <div class="td col3">
                                <p class="table-history__price">$0.15</p>
                            </div>
                            <div class="td col4"><a href="#" class="link-view">Ask the user</a></div>
                        </div>
                        <div class="tr">
                            <div class="td col1">Name</div>
                            <div class="td col3">
                                <p class="table-history__price">$0.15</p>
                            </div>
                            <div class="td col4"><a href="#" class="link-view">Ask the user</a></div>
                        </div>
                        <div class="tr">
                            <div class="td col1">Name</div>
                            <div class="td col3">
                                <p class="table-history__price">$0.15</p>
                            </div>
                            <div class="td col4"><a href="#" class="link-view">Ask the user</a></div>
                        </div>
                        <div class="tr">
                            <div class="td col1">Name</div>
                            <div class="td col3">
                                <p class="table-history__price">$0.15</p>
                            </div>
                            <div class="td col4"><a href="#" class="link-view">Ask the user</a></div>
                        </div>
                    </div>
                    <div class="box-title-block box-title-block_top">
                        <h2 class="text-center">It will take 10 min. to get new 10 referrals</h2>
                        <p class="box-title-block__text">Just follow these steps:</p>
                    </div>
                    <ul class="list-step">
                        <li class="list-step__item">
                            <div class="list-step__icon"><img src="img/icon_step_1.png" alt=""></div>
                            <div class="list-step__right">
                                <h3 class="list-step__title">Step 1. <span>Go social</span></h3>
                                <div class="box-with-social">
                                    <div class="box-with-social__line">
                                        <p class="box-with-social__text">You can place your referral link on the wall of
                                            your social account</p>
                                            <!-- <a href="#" class="button button_size-text20">addthis.com</a> -->
                                            <nav class="social-addthis mt-3">
                                                <div class="addthis_inline_share_toolbox"></div>
                                            </nav>
                                    </div>
                                    <div class="box-with-social__line d-flex align-items-center">
                                        <p class="box-with-social__text">Send auto invitations to your friends on
                                            Facebook and Twitter</p>
                                            <!-- <a href="#" class="button button_blue2 button_size-text20">import contacts</a> -->
                                            <a 
                                                href="#" 
                                                class="import-contact-link"
                                                @click.prevent="requestGoogleContacts()"
                                            >
                                                <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none">
                                                    <path d="M64 56C64 60.418 60.418 64 56 64H8C3.582 64 0 60.418 0 56V8C0 3.582 3.582 0 8 0H56C60.418 0 64 3.582 64 8V56Z" fill="#EBE0C7"/>
                                                    <path d="M32 40L25.877 46.123L37 64H55V17L32 40Z" fill="#DED1B6"/>
                                                    <path d="M9 63L25.877 46.123L9 19V63Z" fill="#E6DBC2"/>
                                                    <path d="M9 17V19L25.877 46.123L32 40L9 17Z" fill="#D9CBAE"/>
                                                    <path d="M8 0C3.582 0 0 3.582 0 8V56C0 60.418 3.582 64 8 64H9V2L8 0Z" fill="#EB5E42"/>
                                                    <path d="M56 0L55 2V64H56C60.418 64 64 60.418 64 56V8C64 3.582 60.418 0 56 0Z" fill="#C7462C"/>
                                                    <path d="M56 0L32 24L8 0C3.582 0 0 3.582 0 8L32 40L64 8C64 3.582 60.418 0 56 0Z" fill="#EB5E42"/>
                                                </svg>
                                            </a>
                                            <a 
                                                href="#" 
                                                class="import-contact-link"
                                                @click.prevent="requestYahooContacts()"
                                            >
                                                <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none">
                                                    <path d="M64 56C64 60.418 60.418 64 56 64H8C3.582 64 0 60.418 0 56V8C0 3.582 3.582 0 8 0H56C60.418 0 64 3.582 64 8V56Z" fill="#5F22AB"/>
                                                    <path d="M11.546 38.21L11.278 38.134C10.834 38.008 10.335 38.006 9.883 38.134L9.61501 38.21L9.62801 37.932C9.64401 37.624 9.65701 37.009 9.67101 36.423C9.68301 35.942 9.692 35.479 9.703 35.222C9.725 34.653 9.735 34.018 9.735 33.43L9.70799 32.994L9.028 31.797C8.727 31.27 8.414 30.725 8.112 30.201L8.032 30.062C7.828 29.707 7.565 29.265 7.328 28.865L6.952 28.229C6.588 27.611 6.289 27.138 6.134 26.906L5.552 26L6.05499 26.142C6.15499 26.17 6.26 26.195 6.375 26.211C6.492 26.229 6.61899 26.238 6.75999 26.238C7.13499 26.238 7.385 26.168 7.467 26.143L7.62 26.099L7.69701 26.238C8.15901 27.068 9.39699 29.105 10.137 30.321C10.318 30.619 10.471 30.871 10.58 31.051C10.696 30.859 10.861 30.588 11.056 30.269C11.786 29.067 13.009 27.055 13.464 26.236L13.54 26.098L13.692 26.141C14.194 26.282 14.825 26.219 15.106 26.141L15.608 26.001L15.329 26.44C15.231 26.593 15.146 26.722 15.024 26.905C14.872 27.136 14.571 27.61 14.208 28.229L13.839 28.85C13.601 29.254 13.334 29.702 13.127 30.061C12.801 30.626 12.458 31.222 12.132 31.795L11.425 33.041V33.429C11.425 34.02 11.436 34.653 11.458 35.223C11.469 35.483 11.479 35.953 11.491 36.441C11.504 37.02 11.517 37.626 11.532 37.93L11.546 38.21Z" fill="white"/>
                                                    <path d="M29.627 36.717C29.654 36.159 29.68 35.574 29.701 35.027C29.722 34.471 29.732 33.897 29.732 33.319V32.656L28.765 32.643C28.316 32.638 27.853 32.637 27.385 32.637C26.918 32.637 26.454 32.638 26.007 32.643L25.036 32.656L25.038 33.319C25.038 33.897 25.048 34.471 25.069 35.027C25.09 35.575 25.157 36.997 25.157 36.997L24.887 36.919C24.67 36.856 24.434 36.825 24.186 36.825C23.933 36.825 23.694 36.856 23.475 36.919L23.207 36.995C23.207 36.995 23.271 35.602 23.294 35.034C23.315 34.471 23.326 33.901 23.326 33.319V31.037C23.326 30.456 23.314 29.888 23.294 29.327L23.209 27.185L23.506 27.364C23.717 27.422 23.947 27.451 24.19 27.451C24.434 27.451 24.67 27.419 24.891 27.354L25.159 27.276L25.067 29.337C25.046 29.888 25.036 30.461 25.036 31.037L25.034 31.633L26.005 31.652C26.449 31.661 26.909 31.666 27.385 31.666C27.862 31.666 28.321 31.661 28.764 31.652L29.736 31.634L29.732 31.038C29.732 30.461 29.722 29.888 29.701 29.336C29.68 28.793 29.609 27.288 29.609 27.288L29.878 27.355C30.1 27.418 30.337 27.451 30.584 27.451C30.832 27.451 31.063 27.421 31.289 27.356L31.556 27.28L31.475 29.327C31.454 29.888 31.444 30.456 31.444 31.037V33.319C31.444 33.901 31.454 34.471 31.475 35.035C31.497 35.602 31.563 36.994 31.563 36.994L31.295 36.921C31.065 36.857 30.832 36.825 30.588 36.825C30.345 36.825 30.114 36.854 29.902 36.913L29.621 37.067L29.627 36.717Z" fill="white"/>
                                                    <path d="M20.673 36.801C20.629 36.686 19.654 34.236 19.654 34.236L19.078 34.22C18.781 34.216 18.213 34.215 17.924 34.215C17.61 34.215 17.045 34.216 16.748 34.22L16.169 34.236L15.086 36.973L14.908 36.922C14.691 36.859 14.457 36.828 14.213 36.828C13.96 36.828 13.295 36.962 13.078 37.024L13.412 36.363C14.412 34.443 16.582 29.033 17.109 27.689L17.262 27.291L17.45 27.363C17.618 27.424 17.759 27.448 17.91 27.448C18.073 27.448 18.222 27.422 18.36 27.367L18.565 27.244L18.63 27.476L18.713 27.688C19.361 29.343 21.431 34.487 22.408 36.363L22.763 37.049L22.316 36.922C22.097 36.859 21.861 36.828 21.611 36.828C21.379 36.828 20.738 37.09 20.738 37.09L20.673 36.801ZM16.567 33.207C16.992 33.221 17.679 33.238 17.913 33.238C18.147 33.238 18.831 33.22 19.255 33.207C18.594 31.536 18.151 30.384 17.912 29.727C17.678 30.376 17.236 31.516 16.567 33.207Z" fill="white"/>
                                                    <path d="M56.085 38.646C56.017 38.646 55.947 38.64 55.877 38.628C55.757 38.609 55.638 38.571 55.53 38.518C55.417 38.461 55.321 38.384 55.246 38.289C55.172 38.192 55.121 38.083 55.092 37.962C55.063 37.841 55.059 37.705 55.082 37.57C55.102 37.438 55.145 37.313 55.212 37.206C55.275 37.099 55.359 37.01 55.462 36.942C55.553 36.879 55.666 36.833 55.794 36.809C55.914 36.789 56.042 36.789 56.167 36.807C56.301 36.83 56.421 36.87 56.527 36.924C56.637 36.983 56.731 37.061 56.806 37.156C56.881 37.25 56.933 37.359 56.962 37.483C56.99 37.6 56.994 37.732 56.972 37.872C56.952 38.004 56.909 38.131 56.844 38.238C56.781 38.341 56.698 38.427 56.596 38.499C56.493 38.567 56.379 38.611 56.255 38.631C56.204 38.642 56.144 38.646 56.085 38.646Z" fill="white"/>
                                                    <path d="M48.918 37.595C48.071 37.595 47.277 37.481 46.559 37.254C45.833 37.026 45.202 36.673 44.679 36.203C44.156 35.734 43.744 35.152 43.456 34.474C43.167 33.8 43.02 33.024 43.02 32.165C43.02 31.306 43.166 30.529 43.456 29.853C43.744 29.175 44.156 28.594 44.679 28.125C45.133 27.718 45.671 27.392 46.279 27.153C46.372 27.117 46.463 27.083 46.558 27.053C47.27 26.812 48.065 26.689 48.918 26.689C49.743 26.689 50.515 26.803 51.211 27.026C52.023 27.297 52.653 27.657 53.178 28.127C53.699 28.597 54.11 29.177 54.4 29.853C54.689 30.532 54.836 31.308 54.836 32.164C54.836 33.021 54.69 33.799 54.4 34.473C54.109 35.151 53.698 35.732 53.178 36.2L53.018 36.337C52.551 36.716 52.038 36.997 51.464 37.198L51.29 37.257C50.575 37.48 49.775 37.595 48.918 37.595ZM48.918 27.641C48.357 27.641 47.827 27.731 47.342 27.908C47.149 27.979 46.966 28.065 46.792 28.165C46.531 28.316 46.292 28.503 46.083 28.717C45.727 29.077 45.443 29.546 45.24 30.11C45.215 30.179 45.191 30.25 45.171 30.324C45.014 30.847 44.935 31.459 44.935 32.144C44.935 32.927 45.038 33.612 45.242 34.177C45.393 34.601 45.592 34.972 45.831 35.281C45.91 35.383 45.995 35.48 46.083 35.57C46.438 35.933 46.862 36.205 47.342 36.379C47.827 36.556 48.357 36.646 48.919 36.646C49.488 36.646 50.024 36.556 50.511 36.379C50.669 36.322 50.819 36.254 50.961 36.178C51.262 36.016 51.534 35.811 51.771 35.571C52.126 35.21 52.409 34.741 52.61 34.179C52.815 33.614 52.919 32.929 52.919 32.145C52.919 31.362 52.815 30.676 52.61 30.111C52.409 29.548 52.127 29.081 51.771 28.719C51.413 28.356 50.989 28.084 50.511 27.909C50.021 27.73 49.486 27.641 48.918 27.641Z" fill="white"/>
                                                    <path d="M37.231 37.041C36.493 37.041 35.801 36.937 35.176 36.732C34.545 36.525 33.994 36.207 33.541 35.786C33.088 35.367 32.729 34.844 32.477 34.234C32.226 33.627 32.099 32.928 32.099 32.159C32.099 31.388 32.226 30.691 32.477 30.086C32.73 29.477 33.087 28.953 33.541 28.531C33.994 28.109 34.543 27.785 35.173 27.566C35.798 27.348 36.49 27.238 37.231 27.238C37.978 27.238 38.674 27.348 39.299 27.566C39.928 27.785 40.478 28.109 40.932 28.531C41.389 28.957 41.746 29.479 41.995 30.086C42.236 30.662 42.362 31.332 42.372 32.072C42.374 32.931 42.246 33.63 41.995 34.234C41.746 34.84 41.388 35.363 40.932 35.786C40.478 36.208 39.927 36.527 39.296 36.732C38.672 36.938 37.977 37.041 37.231 37.041ZM37.236 28.188C36.786 28.188 36.357 28.266 35.963 28.42C35.576 28.572 35.234 28.812 34.947 29.129C34.655 29.452 34.425 29.865 34.262 30.358C34.094 30.862 34.01 31.468 34.01 32.16C34.01 32.852 34.094 33.458 34.261 33.962C34.424 34.456 34.655 34.869 34.947 35.191C35.233 35.507 35.575 35.746 35.963 35.9C36.358 36.053 36.786 36.131 37.236 36.131C37.693 36.131 38.126 36.053 38.522 35.899C38.909 35.745 39.251 35.505 39.538 35.191C39.83 34.869 40.059 34.456 40.221 33.962C40.389 33.458 40.474 32.853 40.474 32.16C40.474 31.467 40.389 30.862 40.222 30.358C40.061 29.866 39.83 29.454 39.538 29.129C39.25 28.813 38.908 28.574 38.52 28.42C38.126 28.266 37.693 28.188 37.236 28.188Z" fill="white"/>
                                                    <path d="M56.856 35.758C56.856 35.758 56.608 35.613 56.531 35.603C56.48 35.596 56.216 35.587 56.172 35.587L55.844 35.665C55.844 35.665 55.998 35.049 56.033 34.787C56.133 34.049 56.318 32.674 56.47 30.812L56.773 27.22C56.772 27.22 56.781 27.149 56.787 27.105C56.813 26.928 56.842 26.835 56.881 26.753L56.93 26.665C56.997 26.559 57.077 26.476 57.175 26.411C57.271 26.346 57.384 26.301 57.509 26.278C57.621 26.257 57.747 26.257 57.885 26.277C57.962 26.291 57.999 26.301 58.036 26.313C58.135 26.343 58.188 26.366 58.241 26.392C58.302 26.426 58.35 26.458 58.395 26.495C58.443 26.538 58.484 26.578 58.519 26.622C58.576 26.694 58.62 26.774 58.649 26.862L58.681 26.997C58.705 27.075 58.708 27.206 58.685 27.342L58.664 27.442C58.668 27.444 57.838 30.99 57.829 31.026C57.389 32.886 57.14 34.256 57.006 34.992C56.964 35.226 56.932 35.398 56.909 35.506L56.856 35.758Z" fill="white"/>
                                                </svg>
                                            </a>
                                            <a 
                                                href="#" 
                                                class="import-contact-link"
                                                @click.prevent="showFileLoader = !showFileLoader"
                                            >
                                                <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none">
                                                    <path d="M59 56C59 60.418 58 64 56 64H8C3.582 64 0 60.418 0 56V8C0 3.582 3.582 0 8 0H56C58 0 59 1 59 3V56Z" fill="#EBE0C7"/>
                                                    <path d="M64 14C64 18.418 60.418 22 56 22V0C60.418 0 64 3.582 64 8V14Z" fill="#DE593E"/>
                                                    <path d="M64 28C64 32.418 60.418 36 56 36V14C60.418 14 64 17.582 64 22V28Z" fill="#FAB732"/>
                                                    <path d="M64 42C64 46.418 60.418 50 56 50V28C60.418 28 64 31.582 64 36V42Z" fill="#3FBF83"/>
                                                    <path d="M64 56C64 60.418 60.418 64 56 64H51L56 42C60.418 42 64 45.582 64 50V56Z" fill="#9C53B8"/>
                                                    <path d="M56 17C56 19 56 60 56 62C56 64 54 64 54 64H8C3.582 64 0 60.418 0 56V8C0 11 3.582 14 8 14H53C53 14 56 14 56 17Z" fill="#AB8A72"/>
                                                    <path d="M36.952 55.082C35.048 55.615 32.975 55.882 30.736 55.882C26.927 55.882 23.607 55.161 20.775 53.722C17.943 52.282 15.775 50.33 14.271 47.868C12.767 45.406 12.015 42.678 12.015 39.681C12.015 36.571 12.831 33.698 14.463 31.062C16.095 28.427 18.4 26.333 21.375 24.777C24.351 23.222 27.759 22.445 31.599 22.445C34.607 22.445 37.415 22.941 40.023 23.935C42.631 24.928 44.744 26.469 46.359 28.557C47.975 30.646 48.784 33.244 48.784 36.355C48.784 38.515 48.383 40.437 47.584 42.123C46.783 43.807 45.672 45.125 44.248 46.075C42.824 47.025 41.2 47.501 39.376 47.501C38.096 47.501 37.088 47.307 36.352 46.918C35.616 46.529 35.12 46.018 34.864 45.384C34.768 45.211 34.673 45.125 34.577 45.125C34.545 45.125 34.448 45.211 34.289 45.384C32.593 47.198 30.417 48.106 27.761 48.106C26.448 48.106 25.249 47.797 24.161 47.177C23.073 46.558 22.217 45.672 21.593 44.52C20.969 43.37 20.657 42.043 20.657 40.545C20.657 38.76 21.056 37.098 21.856 35.557C22.656 34.016 23.784 32.786 25.241 31.863C26.696 30.942 28.368 30.481 30.257 30.481C31.473 30.481 32.505 30.69 33.353 31.107C34.201 31.525 34.929 32.108 35.538 32.856C35.601 32.915 35.674 32.936 35.754 32.921C35.834 32.906 35.89 32.842 35.922 32.727L36.162 31.863C36.225 31.69 36.369 31.604 36.594 31.604H39.571C39.827 31.604 39.938 31.706 39.907 31.907L38.178 41.237C38.082 41.67 38.034 42.044 38.034 42.36C38.034 43.571 38.625 44.174 39.81 44.174C40.673 44.174 41.49 43.879 42.257 43.289C43.024 42.699 43.641 41.835 44.105 40.697C44.569 39.559 44.801 38.199 44.801 36.614C44.801 34.051 44.177 31.956 42.929 30.328C41.681 28.702 40.066 27.528 38.081 26.808C36.097 26.087 33.921 25.728 31.553 25.728C28.193 25.728 25.353 26.347 23.033 27.585C20.712 28.823 18.977 30.501 17.825 32.617C16.673 34.734 16.096 37.089 16.096 39.68C16.096 42.33 16.703 44.641 17.92 46.614C19.136 48.587 20.897 50.113 23.2 51.193C25.503 52.273 28.256 52.813 31.456 52.813C33.311 52.813 34.808 52.625 35.943 52.251C37.08 51.877 38.351 51.285 39.759 50.48C39.919 50.366 40.111 50.307 40.335 50.307C40.526 50.307 40.671 50.379 40.767 50.524L42.064 52.122C42.16 52.267 42.208 52.366 42.208 52.425C42.208 52.569 42.047 52.755 41.729 52.987C40.447 53.852 38.855 54.549 36.952 55.082ZM26.176 43.332C26.783 44.152 27.664 44.562 28.817 44.562C30.256 44.562 31.505 44.016 32.561 42.921C33.617 41.827 34.224 40.544 34.384 39.075C34.416 38.903 34.432 38.643 34.432 38.298C34.432 37.003 34.065 35.966 33.328 35.189C32.592 34.411 31.664 34.022 30.544 34.022C29.039 34.022 27.784 34.605 26.775 35.771C25.767 36.938 25.263 38.385 25.263 40.113C25.264 41.438 25.568 42.512 26.176 43.332Z" fill="#CCB299"/>
                                                </svg>
                                            </a>
 
                                    </div>
                                    <div 
                                        v-show="showFileLoader"
                                        id="file-loader">
                                        <div class="pb-3 pt-5 h4 text-primary">
                                            Please, upload a valid <b>.csv</b> file in appropriate comma separated format (e.g.: name,email)
                                        </div>
                                        <input 
                                            type="file" 
                                            name="filename" 
                                            id="file-contacts"
                                            @change="getCsvFile($event.target)"
                                        >                                   
                                    </div>
                                    <div id="contacts-list">
                                        <ul class="px-0 p-lg-4 mt-5">
                                            <li 
                                                v-for="(contact, i) in contacts"
                                                class="row py-3"
                                            >
                                                <div class="col-4">
                                                    <span class="h4 break-word">{{ contact.name }}</span>
                                                </div>
                                                <div class="col-7">
                                                    <span class="h4 break-word">{{ contact.email }}</span>
                                                </div>
                                                <div class="col-1">
                                                    <a 
                                                        href="#"
                                                        @click.prevent="removeContact(i)"
                                                    ><i class="fa fa-2x fa-times text-muted"></i></a>
                                                </div>
                                            </li>
                                        </ul>
                                        <div 
                                            class="text-center mt-4"
                                            v-if="contacts.length !== 0"
                                        >
                                            <button class="button button_large button_light button_size-text20">Send Invitations</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="list-step__item">
                            <div class="list-step__icon"><img src="img/icon_step_2.png" alt=""></div>
                            <div class="list-step__right">
                                <h3 class="list-step__title">Step 2. <span>Gift Card</span></h3>
                                <div class="box-gift-card">
                                    <p class="box-gift-card__text">Send the $5 Gift Card to your friends. Enter emails
                                        and click "send". Your referral link is already included into the Card</p>
                                    <div class="box-gift-card__img"><img src="img/img_step.jpg" alt=""></div>
                                    <form class="form-mail">
                                        <div class="box-field w100">
                                            <div class="line-columns-field">
                                                <div class="line-columns-field__column w50">
                                                    <div class="box-field__input"><input type="text"
                                                            placeholder="1st E-mail" class="standart-input"></div>
                                                </div>
                                                <div class="line-columns-field__column w50">
                                                    <div class="box-field__input"><input type="text"
                                                            placeholder="2nd E-mail" class="standart-input"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="box-field w100">
                                            <div class="line-columns-field">
                                                <div class="line-columns-field__column w50">
                                                    <div class="box-field__input"><input type="text"
                                                            placeholder="3rd E-mail" class="standart-input"></div>
                                                </div>
                                                <div class="line-columns-field__column w50">
                                                    <div class="box-field__input"><input type="text"
                                                            placeholder="4th E-mail" class="standart-input"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="box-field w100 text-center"><input type="submit" value="Send"
                                                class="button button_orange button_big"><a href="#"
                                                class="button button_blue2 button_big">Add more</a></div>
                                    </form>
                                    <div class="box-with-social__line">
                                        <p class="box-with-social__text">You can also just share the Card to your wall
                                            in your social account</p>
                                            <!-- <a href="#" class="button button_size-text20">addthis.com</a> -->
                                            <nav class="social-addthis mt-3">
                                                <div 
                                                    class="addthis_inline_share_toolbox" 
                                                    :data-url="addthis.dataUrl"
                                                ></div>
                                            </nav>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="list-step__item top">
                            <div class="list-step__icon top1"><img src="img/icon_step_3.png" alt=""></div>
                            <div class="list-step__right">
                                <h3 class="list-step__title">Step 3. <span>Share Earnings</span></h3>
                                <p class="box-gift-card__text">Choose any offer and the site where you would like to
                                    post your earnings. <br>The posts will include your referral link.</p>
                                <div class="table-history table-share">
                                    <div class="tr">
                                        <div class="th col1">Offer/ Survey</div>
                                        <div class="th col2">Reward</div>
                                        <div class="th col3">Share</div>
                                    </div>
                                    <div class="tr">
                                        <div class="td col1">React2Media</div>
                                        <div class="td col2">
                                            <p class="table-history__price">$5.00</p>
                                        </div>
                                        <div class="td col3">
                                            <!-- <a href="#" class="link-share"><span
                                                    class="link-share__icon icon1"></span><span
                                                    class="link-share__name">twitter</span></a><a href="#"
                                                class="link-share"><span class="link-share__icon icon2"></span><span
                                                    class="link-share__name">facebook</span></a><a href="#"
                                                class="link-share"><span class="link-share__icon icon3"></span><span
                                                    class="link-share__name">addthis.com</span></a> -->
                                                    <!-- <div class="addthis_inline_share_toolbox"></div> -->
                                                    <div 
                                                        class="addthis_inline_share_toolbox_goyd"
                                                        data-url="https://google.com"
                                                    ></div>
                                        </div>
                                    </div>
                                    <div class="tr">
                                        <div class="td col1">React2Media</div>
                                        <div class="td col2">
                                            <p class="table-history__price">$5.00</p>
                                        </div>
                                        <div class="td col3"><a href="#" class="link-share"><span
                                                    class="link-share__icon icon1"></span><span
                                                    class="link-share__name">twitter</span></a><a href="#"
                                                class="link-share"><span class="link-share__icon icon2"></span><span
                                                    class="link-share__name">facebook</span></a><a href="#"
                                                class="link-share"><span class="link-share__icon icon3"></span><span
                                                    class="link-share__name">addthis.com</span></a></div>
                                    </div>
                                    <div class="tr">
                                        <div class="td col1">React2Media</div>
                                        <div class="td col2">
                                            <p class="table-history__price">$5.00</p>
                                        </div>
                                        <div class="td col3"><a href="#" class="link-share"><span
                                                    class="link-share__icon icon1"></span><span
                                                    class="link-share__name">twitter</span></a><a href="#"
                                                class="link-share"><span class="link-share__icon icon2"></span><span
                                                    class="link-share__name">facebook</span></a><a href="#"
                                                class="link-share"><span class="link-share__icon icon3"></span><span
                                                    class="link-share__name">addthis.com</span></a></div>
                                    </div>
                                    <div class="tr">
                                        <div class="td col1">React2Media</div>
                                        <div class="td col2">
                                            <p class="table-history__price">$5.00</p>
                                        </div>
                                        <div class="td col3"><a href="#" class="link-share"><span
                                                    class="link-share__icon icon1"></span><span
                                                    class="link-share__name">twitter</span></a><a href="#"
                                                class="link-share"><span class="link-share__icon icon2"></span><span
                                                    class="link-share__name">facebook</span></a><a href="#"
                                                class="link-share"><span class="link-share__icon icon3"></span><span
                                                    class="link-share__name">addthis.com</span></a></div>
                                    </div>
                                    <div class="tr">
                                        <div class="td col1">React2Media</div>
                                        <div class="td col2">
                                            <p class="table-history__price">$5.00</p>
                                        </div>
                                        <div class="td col3"><a href="#" class="link-share"><span
                                                    class="link-share__icon icon1"></span><span
                                                    class="link-share__name">twitter</span></a><a href="#"
                                                class="link-share"><span class="link-share__icon icon2"></span><span
                                                    class="link-share__name">facebook</span></a><a href="#"
                                                class="link-share"><span class="link-share__icon icon3"></span><span
                                                    class="link-share__name">addthis.com</span></a></div>
                                    </div>
                                    <div class="tr">
                                        <div class="td col1">React2Media</div>
                                        <div class="td col2">
                                            <p class="table-history__price">$5.00</p>
                                        </div>
                                        <div class="td col3"><a href="#" class="link-share"><span
                                                    class="link-share__icon icon1"></span><span
                                                    class="link-share__name">twitter</span></a><a href="#"
                                                class="link-share"><span class="link-share__icon icon2"></span><span
                                                    class="link-share__name">facebook</span></a><a href="#"
                                                class="link-share"><span class="link-share__icon icon3"></span><span
                                                    class="link-share__name">addthis.com</span></a></div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="list-step__item top2">
                            <div class="list-step__icon top1"><img src="img/icon_step_4.png" alt=""></div>
                            <div class="list-step__right">
                                <h3 class="list-step__title">Step 4. <span>Go blogging</span></h3>
                                <p class="box-gift-card__text">Post your referral link or banners on your blog or
                                    website. Motivate your readers to sign up for UniqueRewards and get comissions.</p>
                                <form>
                                    <div class="box-field w100"><label
                                            class="box-field__label box-field__label_color">You referral
                                            link:</label><input type="text" value="http://uniquerewards.com/ref_id=124"
                                            class="standart-input standart-input_style"></div>
                                </form>
                                <div class="example-banner">
                                    <p class="example-banner__title">Banner 468x60</p><a href="#"
                                        class="example-banner__banner"><img src="img/banner_1.jpg" alt=""></a>
                                </div>
                                <div class="example-banner">
                                    <p class="example-banner__title">Banner 468x60</p><a href="#"
                                        class="example-banner__banner"><img src="img/banner_2.jpg" alt=""></a>
                                </div>
                                <div class="example-banner">
                                    <p class="example-banner__title">Banner 468x60</p><a href="#"
                                        class="example-banner__banner"><img src="img/banner_3.jpg" alt=""></a>
                                </div>
                                <div class="example-banner">
                                    <p class="example-banner__title">Banner 468x60</p><a href="#"
                                        class="example-banner__banner"><img src="img/banner_4.jpg" alt=""></a>
                                </div>
                            </div>
                        </li>
                        <li class="list-step__item">
                            <div class="list-step__icon top1"><img src="img/icon_step_6.png" alt=""></div>
                            <div class="list-step__right">
                                <h3 class="list-step__title">Step 5. <span>Emails</span></h3>
                                <p class="box-gift-card__text">Send an invitation to your friends. You can use our
                                    template or edit and send your copy.</p>
                                <form class="form-mail">
                                    <div class="box-example-letter">
                                        <div class="box-example-letter__cont">
                                            <p>Hi friend!</p>
                                            <p>I have already started earning easy money from the comfort of my own
                                                home...now you can too! I found this great site called
                                                UniqueRewards.com. They pay me to simply complete free offers and
                                                surveys, read email messages, shop online and more! Please take a moment
                                                to check out their site. If you sign-up they'll credit $5.00 to your
                                                account!</p>
                                            <p>It's free and easy to join and your privacy is completely
                                                protected.<br>Here is the link, enjoy and happy money making.</p>
                                            <p>http://www.uniquerewards.com/cgi-bin/main.cgi?cmd=newref&amp;refid=582029
                                            </p>
                                            <p>Check it out!</p>
                                        </div>
                                    </div>
                                    <div class="box-field w100">
                                        <div class="line-columns-field">
                                            <div class="line-columns-field__column w50">
                                                <div class="box-field__input"><input type="text"
                                                        placeholder="1st E-mail" class="standart-input"></div>
                                            </div>
                                            <div class="line-columns-field__column w50">
                                                <div class="box-field__input"><input type="text"
                                                        placeholder="2nd E-mail" class="standart-input"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="box-field w100">
                                        <div class="line-columns-field">
                                            <div class="line-columns-field__column w50">
                                                <div class="box-field__input"><input type="text"
                                                        placeholder="3rd E-mail" class="standart-input"></div>
                                            </div>
                                            <div class="line-columns-field__column w50">
                                                <div class="box-field__input"><input type="text"
                                                        placeholder="4th E-mail" class="standart-input"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="box-field w100 text-center"><input type="submit" value="Send"
                                            class="button button_orange button_big"><a href="#"
                                            class="button button_blue2 button_big">Add more</a></div>
                                </form>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</template>
<script>
    import {Cookies} from 'utils/cookies'
    // import { VueCsvImport } from 'vue-csv-import';
    import Papa from 'papaparse'
    // import jqueryCsv from 'jquery-csv'
    export default {
        data(){
            return {
                addthis:{
                    // https://www.addthis.com/academy/setting-the-url-title-to-share/
                    dataUrl: 'https://facebook.com'
                },
                contacts: [],
                showFileLoader: false
            }
        },
        methods: {          
            requestGoogleContacts(){
                // const redirectUrl = 'https://demo.webexp.site/auth/google/callback.php'
                const redirectUrl = 'https://uniquerewards.webexp.site/auth/google/callback.php'
                const scope = 'https://www.googleapis.com/auth/contacts.readonly https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile'
                const clientId = '1045871054557-8ot5op822soi3dba4h0sbuuoqdrh7aph.apps.googleusercontent.com'
                const href = `https://accounts.google.com/o/oauth2/auth?client_id=${clientId}&response_type=code&redirect_uri=${redirectUrl}&scope=${scope}`
                //window.open(href, '_blank')
                location.href = href
            },
            requestYahooContacts(){
                const uuidv4 = () =>  ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c => (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16))	
                const clientID = 'dj0yJmk9a1ZxN281TWRuMlRvJmQ9WVdrOVZHTk5SRU5STTFBbWNHbzlNQT09JnM9Y29uc3VtZXJzZWNyZXQmc3Y9MCZ4PTNl'
                const redirectUrl = 'https://uniquerewards.webexp.site/auth/yahoo/callback.php'
                location.href = `https://api.login.yahoo.com/oauth2/request_auth?client_id=${clientID}&response_type=code&redirect_uri=${redirectUrl}&scope=openid&nonce=${uuidv4()}`
            },
            removeContact(i){
                this.contacts.splice(i,1)
            },
            getCsvFile(target){
                // https://github.com/jgile/vue-csv-import/blob/master/src/components/VueCsvImport.vue
                let file = target.files[0];
                if (file) {
                    let reader = new FileReader()
                    reader.readAsText(file, "UTF-8")
                    console.log('reader: ',reader)
                    reader.onload = (evt) => {                     
                        const output = Papa.parse(evt.target.result, { skipEmptyLines: true })
                        const contacts = output.data.reduce((acc,line) => {
                            //  ,   
                            if(line[0].includes('@') || line[1].includes('@')){
                                const name = line[0]
                                const email = line[1]
                                acc.push({ name, email})
                            }
                            return acc
                        },[])
                        // ,  -  undefined
                        this.contacts = Array.isArray(contacts) ? contacts : []
                        if(this.contacts.length === 0){
                            alert('Empty file or format are not valid')
                        }
                    }
                    reader.onerror = (e) => { 
                        console.log('e: ',e)
                    }
                }    
      
            }
        },
        mounted(){

            try {
                // https://gist.github.com/jonathanconway/9925286
                addthis.layers.refresh()  
            } catch (error) {
                console.log('error: ',error);
            }
 
            try {
                let contacts = JSON.parse(Cookies.getItem('contacts'))
                console.log(contacts)
                if(contacts && Array.isArray(contacts)){
                    const listTop = window.pageYOffset + document.querySelector('#contacts-list').getBoundingClientRect().top
                    window.scrollTo({top: listTop, behavior: 'smooth'})
                    //  + ,     
                    this.contacts = contacts.map( contact => {
                        contact.name = contact.name.replace('+',' ')
                        return contact
                    })
                }               
            } catch (error) {
                console.log('error: ',error);
            }
            Cookies.removeItem('contacts', '/', 'webexp.site')
   
        }
    }
</script>

<style lang="scss" scoped>
    .import-contact-link{
        margin: 0 10px;

        svg{
            width: 50px;
        }

    }

    
    .break-word{
            word-wrap: break-word;
    }
</style>